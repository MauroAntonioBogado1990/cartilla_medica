<?xml version="1.0" encoding="utf-8"?>
<odoo>
<data>

<template id="reporte_cartilla_template">
    <t t-call="web.html_container">
   
        <t t-foreach="docs" t-as="doc">
            <t t-call="web.basic_layout">
                <div class="page">
                    <div class="header" style="position: relative; height: 100px;">
                     <t t-if="doc.company_id or doc.company_id.logo">
                    <img t-att-src="image_data_uri(doc.company_id.logo)" style="max-width: 460px; max-height: 120px; text-align:left;" alt="Logo"/>
                    </t>
                    <t t-else="">
                        <p style="color: red;">No hay logo disponible</p>
                    </t>

                        
                    </div>
                    <!--agregamos el div de las regiones-->
                   <div class="header2" style="background-color: #007BFF; color: white; text-align: left; padding: 10px; font-size: 18px; font-weight: bold;">
                        <t t-esc="doc.state_id.name" />
                    </div>
                    <div class="header3" style="background-color:rgb(43, 231, 184); color: white; text-align: left; padding: 10px; font-size: 26px; font-weight: bold; width: 50%;">
                        <p>Clinicas y Sanatorios</p>
                    </div>
                   


                    <!-- Tabla de clinicas -->
                    
                    <!-- <div style="position: absolute; margin-top: 250px; font-size: 10px; width: 100%;"> -->
                     <!--se agregan las columnas y nombres de los contactos-->
                    <div style="font-size: 10px; width: 100%; column-count: 2; column-gap: 20px;">
                       
                            
                                <strong style="font-size: 12px;"><t t-esc="doc.name"/></strong><br/>
                                <span style="font-size: 10px;"> <t t-esc="doc.phone or 'No disponible'"/></span><br/>
                                <span style="font-size: 10px;"> <t t-esc="doc.street or 'No disponible'"/></span>
                           
                      
                    </div>
                    


                    <div style="font-size: 10px; width: 100%;">
                        
                    </div>

                    <!-- aqui poner logo tambien(Solo en la última página) -->
                    <t t-if="page == topage">
                     <div style="page-break-inside: avoid; margin-top: 20px; font-size: 12px;">
                     
                     

                     
                      </div>
                    </t>

                    <!-- Pie de Página se puede usar de ser necesario-->
                    <div class="footer" style="position: absolute;font-size: 10px; text-align: rigth; width: auto; left: 750px;">
                        <!-- <p>Página <span class="page"/> de <span class="topage"/></p> -->
                       
                    </div>
  

                        

                   
                </div>
            </t>
        </t>
    </t>
</template>



<template id="report_payment_group">
    <t t-call="web.html_container">
        <t t-foreach="docs" t-as="o">
            <t t-call="reporte_cartilla.reporte_cartilla_template" t-lang="o.lang"/>
        </t>
    </t>
</template>

        <!-- QWeb Reports -->
        <report
            id="reporte_cartilla.partner_group_report_cartilla"
            model="res.partner"
            string="Cartilla Medica"
            report_type="qweb-pdf"
            name="reporte_cartilla.report_payment_group"
            file="reporte_cartilla.report_payment_group"
        />

        
<!--attachment="(object.state in ('open','paid')) and ('INV'+(object.number or '').replace('/','')+'.pdf')"-->

</data>
</odoo>